#!run

export async function main(){
  const acepad=this.$acepad;
  const editor=acepad.getMainEditor();
  let d,sz;
  document.body.addEventListener("touchstart",(e)=>{
    if(e.touches.length==2){
      const a=[e.touches[0].clientX,e.touches[0].clientX];
      const b=[e.touches[1].clientX,e.touches[1].clientX];
      d=((a[0]-b[0])**2+(a[1]-b[1])**2)**0.5;
      sz=editor.getFontSize();
    }
    
  }); 

  document.body.addEventListener("touchmove",(e)=>{
    if(e.touches.length==2){
      const a=[e.touches[0].clientX,e.touches[0].clientX];
      const b=[e.touches[1].clientX,e.touches[1].clientX];
      const dd=((a[0]-b[0])**2+(a[1]-b[1])**2)**0.5;
      editor.setFontSize(sz+Math.trunc((dd-d)*0.1));
    }
    
  }); 
  return ;
}