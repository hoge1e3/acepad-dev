// acepad-widget-dialog
import {showWidget} from "acepad-widget";
export let $=window.$;
$.fn.dialog = function(cmd) {
    //alert("diag"+cmd+" "+this);
    let element=this[0];
    console.log(Date.now(),"diag",cmd,element);
    if(cmd==="close"){
        if(element.__widget)element.__widget.hide();
        return ;
    }
    if(element.__widget){
        element.__widget.show();
    }else{
        //console.log("dialog",this);
        //console.log("dialog",this.html());
        let sc=$("<div>").addClass("widget-dialog").
        append(element).attr({title:$(element).attr("title")});
        element.__widget=showWidget(sc,{
            noMenu:true,
            buttons:[{command:"minify",caption:"x"}]
        });
    }
    //this.css("color", "red");
};
