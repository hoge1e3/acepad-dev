// show-vconsole
import {convertStack} from "@acepad/os";
export let logorg=console.log;
export function showVConsole(){
    const s=document.querySelector(".vc-switch");
    if(!s){
        initVConsole();
        
    } else s.click();
}
export function initVConsole(){
    if (window.VConsole) {
       var vConsole = new window.VConsole();
       const t=setInterval(()=>{
            const s=document.querySelector(".vc-switch");
            if (!s) return;
            s.setAttribute("style","display: none;");
            clearInterval(t);
            convConError();
       },10);
    }
}
function convConError(){
    let oe=console.error;
    console.error=function (...args){
        args=args.map((e)=>{
            try{
                //console.log("e",e);
                if(e&&typeof e.stack==="string"){
                    e=convertStack(e);
                }
            }catch(e){
                oe.apply(console,[e]);
            }
            return e;
        });
        return oe.apply(console,args);
    };
}