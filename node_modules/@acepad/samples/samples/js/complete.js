#!run
function isComplete(n){
  let m=Math.sqrt(n),s=1;
  for(let i=2;i<m;i++){
    if(n%i==0){
      s+=i+(n/i);
    }
  }
  if(n%m==0)s+=m;
  return s==n; 
}
export async function main(){
  const acepad=this.$acepad;
  let l=acepad.locate;
  this.echo("scan");
  for(let i=1;i<1000000;i++){
    if(isComplete(i)){
      this.echo(i);
    }
    if((i&1023)==0){
      l.save(()=>{
        l(0,0);
        acepad.print(`scanned up to ${i}`);
      });
      await this.sleep(1/1000);
    }
  }
}