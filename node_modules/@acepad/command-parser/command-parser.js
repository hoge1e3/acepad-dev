// @acepad/command-parser
export function parse(cmds, prefix="") {
    const res={};
    if(!cmds)return res;
    for (let k of Object.keys(cmds)) {
        let v=cmds[k];
        if(typeof v==="string"){
            const cmd=v;
            v=(editor,...a)=>editor.execCommand(cmd,...a);
        }
        if (typeof v==="function") {
            v={name: prefix+k, bindKey:k, exec:v};
        } else {
            if (!v.name) v.name=prefix+k;
        }
        v.exec=v.exec.bind(this);
        res[k]=v;    
    }
    return res;
}