import {t} from "@hoge1e3/dom";
import {show} from "@acepad/widget";
import {open} from "@acepad/browser";
import {sibling} from "@acepad/here";

export async function main(){
  const element=(t.iframe());
  await new Promise(s=>{
    element.addEventListener("load",s);
    show(t.div(element));
  });
  const document=element.contentWindow.document;
  await open(sibling(import.meta.url,"index.html"),{
    globalThis: element.contentWindow,
    document,
    pNode:true,
    
  });
  console.log(document.body.innerHTML);
}