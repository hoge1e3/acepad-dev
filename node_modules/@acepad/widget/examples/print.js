#!run
//Press F5 to run
import {show} from "@acepad/widget";
import {t} from "@hoge1e3/dom";
export async function main(){
    const list=["foo","bar","buzz"];
    const w=show({overlay:true});
    // Basically w.print simply add element to widget.
    w.print(
      // t.div is a shorthand to create DOM, see @hoge1e3/dom
        t.div(
            t.input({id:"example-input"}),
            t.button({onclick: add},"Add"),
        ));
    // At this time #example-list is not existent, so just added.
    w.print(t.ul({id:"example-list"}));
    const item=(s,i)=>t.div(
      t.li(t.span(s, 
          t.button("X",{onclick:()=>del(i)}))));
    render();
    function add(){
        const value=document.querySelector("#example-input").value;
        list.push(value);
        render();
    }
    function render(){
        // overwrite existing #example-list
        w.print(t.ul({id:"example-list"},...list.map(item)));
    }
    function del(i) {
      list.splice(i,1);
      render();
    }
}
