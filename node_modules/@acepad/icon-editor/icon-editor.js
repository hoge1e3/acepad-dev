#!run
// @acepad/icon-editor
import {showIframe} from "@acepad/widget";
import {sibling} from "@acepad/here";
export function main(file="."){
  file=this.resolve(file);
  if (file.isDir()) {
    file=file.rel("tmp.png");
  }
  const w=showIframe(sibling(
    import.meta.url,
    "icon.html"),{
      pNode:true, fullscreen:true
    });
  w.on("load",async ()=>{
      console.log("w",w.iframe.contentWindow);
      await this.sleep(0.5);
      w.iframe.contentWindow.load(file);
  });
  console.log("Event set");
}