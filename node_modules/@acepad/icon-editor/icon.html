<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=5,user-scalabe=yes" />
  <title>32×32 Pixel Icon Editor</title>
  <link rel="stylesheet" href="icon.css"/>
</head>
<body>
  <div class="app">
    <div class="board">
      <div class="row" style="justify-content: space-between; margin-bottom:8px;">
        <div class="title">32×32 Pixel Icon Editor</div>
        <div class="hint">Left click: draw · Right click: erase · Alt: eyedropper</div>
      </div>
      <div class="checker">
        <canvas id="view" width="256" height="256"></canvas>
      </div>
      <div class="row" style="margin-top: 10px; gap:12px;">
        <button class="btn" id="toggleGrid">Toggle Grid</button>
        <button class="btn" id="clear">Clear</button>
        <button class="btn" id="fill">Fill</button>
        <button class="btn" id="download">Download PNG</button>
        <label class="btn" for="file">Upload PNG</label>
        <input id="file" type="file" accept="image/png" />
      </div>
    </div>
    <div class="sidebar">
      <div class="title" style="margin-bottom:8px;">Tools</div>
      <div class="row" style="margin-bottom:10px;">
        <button class="btn" id="pen" aria-pressed="true">Pen</button>
        <button class="btn" id="eraser">Eraser</button>
        <button class="btn" id="picker">Eyedropper</button>
      </div>
      <div class="label" style="margin: 6px 0 4px;">Color</div>
      <div class="row">
        <input id="color" type="color" value="#000000" />
        <div id="swatches" class="row"></div>
      </div>
      <div class="label" style="margin: 10px 0 4px;">Preview (1×, 2×, 4×)</div>
      <div class="row">
        <canvas id="p1" width="32" height="32" style="background:#bbb; border-radius:6px;"></canvas>
        <canvas id="p2" width="64" height="64" style="background:#bbb; border-radius:6px;"></canvas>
        <canvas id="p4" width="128" height="128" style="background:#bbb; border-radius:6px;"></canvas>
      </div>
      <p class="hint" style="margin-top:10px;">Tip: Hold <b>Alt</b> and click to pick a color. Right‑click (or Eraser tool) clears to transparent.</p>
    </div>
  </div>  
  <script src="icon.js"></script>
  <script src="pinch.js"></script>
  <script>window.pinchc=pinch()</script>
  </body>
</html>