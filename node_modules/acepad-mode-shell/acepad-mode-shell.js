// acepad-mode-shell
export function completer({pickLine}){
    return {
        getCompletions(editor, session, pos, prefix, callback) {
            const line=editor.session.getLines(pos.row,pos.row+1)[0];
            console.log(
                line.substring(0, pos.column-prefix.length)+"|"+
                line.substring(pos.column-prefix.length, pos.column)+"|"+
                line.substring(pos.column));
            callback(null,[{
                caption: "word",
                value: "wordinger",
                score: 100000,
                meta: "local"
            }]);  
        }
    };
}
const TextMode=window.ace.require("ace/mode/text").Mode;
export function Mode(sh){
    this.completer=completer({
        pickLine(line){
            return line.replace(/^.*[:\$%]\s*/,"");
        }
    });
}
Mode.prototype=new TextMode();