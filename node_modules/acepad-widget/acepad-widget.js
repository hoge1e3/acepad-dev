import {open} from "acepad-browser";
/*global $*/
export function showIframe(url){
    let e=$("<iframe>");
    if(typeof url==="string"){
        e.attr({src:url});
    }
    let cont=$("<div>").append(e);
    let r=showWidget(cont);
    if(typeof url.text==="function"){
        //alert(e[0].contentWindow.document);
        open(url,{document:e[0].contentWindow.document});
    }
    r.iframe=e[0];
    r.go=(url)=>{
            e.attr({src:url});
        };
    return r;
}
export function showWidget(e){
    e=$(e);
    e.addClass("widget");
    let cl=$("<button>").text("x").
    addClass("widget-close").click(close);
    $("#editor").append(e);
    $("#editor").append(cl);
    function close(){
        e.remove();
        cl.remove();
    }
    return {
        element:e[0],
        closeButton:cl,
        close,
    };
}
