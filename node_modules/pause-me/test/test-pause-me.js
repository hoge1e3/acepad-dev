import pauseMe from "pause-me";

export async function main(){
    let sh=this,buf=[];
    let st=performance.now();
    function out(p){
        sh.echo(p,performance.now()-st);
        buf.push(p);

    }
    function np(m){
    return pauseMe(()=>{
        out(m);
    },1000,true);
    }
    let a=np("a"),b;
    pauseMe(()=>{
        out("pause-a");
        a.pause();
        b=np("b");
    },2500);
    pauseMe(()=>{
        out("pause-b");
        b.pause();
        a.resume();
    },5000);
    pauseMe(()=>{
        out("pause-a");
        a.pause();
        //a.resume();
    },7500);
    
}