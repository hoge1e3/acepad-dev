import * as dependencies from "@hoge1e3/dependencies";
import * as assert from "assert";
export async function main2(){
    const data={
        a:["b","c"],
        b:["d"],
        c:["a"],
        d:["b","d"],
    };
    const r=dependencies.traverse("a",((o)=>data[o]));
    this.echo("dep2",...r);
    
}

export async function main(){
    this.echo("sync");
    const data={
        a:["b","c"],
        b:["d"],
        c:["d"],
        d:[],
    };
    const r=dependencies.traverse("a",((o)=>data[o]));
    this.echo("dep1",...r);
    await maina.call(this);
    await main2.call(this);
}

export async function maina(){
    this.echo("async");
    const data={
        a:["b","c"],
        b:["d"],
        c:["d"],
        d:[],
    };
    const r=await dependencies.traverse("a",(async(o)=>data[o]));
    this.echo("dep1-a",...r);
    await main2();
}

