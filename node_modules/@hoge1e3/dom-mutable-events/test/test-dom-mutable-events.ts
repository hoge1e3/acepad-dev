import EventManager from "@hoge1e3/dom-mutable-events";
import * as assert from "assert";
import {t} from "@hoge1e3/dom";
import {show} from "@acepad/widget";
export async function main(){
    const e=new EventManager();
    const w:any=show();
    const mesg=(e:string)=>alert(e);
    function overEvent() {
        e.overwrite(b1,b2);
    }
    function rmEvent() {
        e.remove(b1);
    }
    w.print(t.div({id:"test-me"},
        t.button({id:"b1"},"Button1"),
        t.button({id:"b2"},"Button2"),
        t.button({onclick:rmEvent},"Remove event b1"),
        t.button({onclick:overEvent},"Overwrite event b1<-b2"),
    ));
    const b1=document.querySelector("#b1")!;
    const b2=document.querySelector("#b2")!;
    e.add(b1,"click",()=>mesg("Button1"));
    e.add(b2,"click",()=>mesg("Button2"));
    
    
}    
