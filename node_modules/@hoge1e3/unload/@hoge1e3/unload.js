// @hoge1e3/unload
export default function setUnload({oncancel}={}){
    let f;
    oncancel=oncancel||(()=>0);
    window.addEventListener("beforeunload", (event) => {
        if(f)return;
        event.preventDefault();
        event.returnValue = "Check";
        setTimeout(oncancel,100);
    });
    return {
        setForce(_f){
            f=_f;
        }
    };    
}