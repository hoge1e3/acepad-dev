import {myp} from "./p.js";
import * as polyfiller from "@hoge1e3/polyfiller";
import * as assert from "assert";
console.log("p2","loaded test");
export async function main(){
    let d=dir(this).up();
    this.echo(d);
    let a=this.$acepad;
    polyfiller.events.on("missing",({key,id,extend,trace})=>{
        assert.ok(d.isDir(),"isDir");
        const {file,line}=extend(id,d,key,`()=>{
    /*${trace}*/
}`);
        this.edit(file,{row:line});
    });
    myp().foo(3);
}    

function dir(sh){
    const u=import.meta.url+"";
    return(sh.resolve(u));
}

