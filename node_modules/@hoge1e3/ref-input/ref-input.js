// @hoge1e3/ref-input
import EventManager from "@hoge1e3/dom-mutable-events";
const evm=new EventManager();
export function refInput(r,dom){
  const id=dom.getAttribute("id");
  if(!id)throw new Error(" refInput requires id");
  dom.value=r.value;
  evm.add(dom,"input",function (){
      r.value=this.value;
    
  });
  if(!r[id]){
    r.on("change",()=>
      document.getElementById(id).value=r.value
    );
    r[id]=1;
  }
  return dom;
}
