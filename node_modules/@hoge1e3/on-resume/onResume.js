// @hoge1e3/safe-interval
import {EventHandler} from "@hoge1e3/events";

let e=new EventHandler();
const  last=[];
setInterval(()=>{
    const n=performance.now();
    last.unshift(n);
    if(last.length<3)return ;
    if(last[0]-last[1]>500 &&
       last[1]-last[2]<500){
        e.fire("resume");
    }
    last.pop();
},20);
export function on(...args){
    return e.on(...args);
}